const footnotes=document.querySelectorAll(".footnote-phrase");Array.from(footnotes).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const[,t]=e.target.href.split("#"),o=document.querySelector(`#${t} .footnote-content`),n="visible"===o.dataset.status?"hidden":"visible";o.dataset.status=n}))}));const footnoteCloseLinks=document.querySelectorAll(".footnote-backref");function handleIntersection(e){e.forEach((e=>{if(e.isIntersecting&&e.target.offsetTop-window.pageYOffset<window.innerHeight-.1*window.innerHeight){const t=document.querySelectorAll(".table-of-contents a");Array.from(t).forEach((e=>{e.classList.remove("active")})),document.querySelector(`.table-of-contents a[href$=${e.target.id}]`).classList.add("active")}}))}function updateActiveToCItem(){const e=new IntersectionObserver(handleIntersection,{rootMargin:`-${.33*window.innerHeight}px 0px 0px 0px`,threshold:[.75,.8,.85,.9,.95,1]}),t=document.querySelectorAll(".content h2");Array.from(t).forEach((t=>{e.observe(t)}))}Array.from(footnoteCloseLinks).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();e.target.closest(".footnote-content").dataset.status="hidden"}))})),updateActiveToCItem();